"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.addTailwindStyleImports = void 0;
const devkit_1 = require("@nx/devkit");
const knownStylesheetLocations = [
    // What we generate by default
    'src/styles.css',
    'src/styles.scss',
    'src/styles.less',
    // What we generate for nuxt by default
    'src/assets/css/styles.css',
    'src/assets/css/styles.scss',
    'src/assets/css/styles.less',
    // Other common locations (e.g. what `npm create vue` does)
    'src/assets/styles.css',
    'src/assets/styles.scss',
    'src/assets/styles.less',
];
function addTailwindStyleImports(tree, project, _options) {
    if (_options.stylesheet) {
        knownStylesheetLocations.push(_options.stylesheet);
    }
    const stylesPath = knownStylesheetLocations
        .map((file) => (0, devkit_1.joinPathFragments)(project.root, file))
        .find((file) => tree.exists(file));
    if (!stylesPath) {
        throw new Error(`Could not find the stylesheet to update. Use --stylesheet to specify this path (relative to the workspace root).`);
    }
    const content = tree.read(stylesPath).toString();
    tree.write(stylesPath, `@tailwind base;\n@tailwind components;\n@tailwind utilities;\n${content}`);
}
exports.addTailwindStyleImports = addTailwindStyleImports;
